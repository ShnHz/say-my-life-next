import{_ as s,c as a,o as n,V as l}from"./chunks/framework.79590ae5.js";const A=JSON.parse('{"title":"vue-cli中使用sass-loader的坑","description":"","frontmatter":{"date":"2020/12/09 11:12:56","config":{"top":false,"dir":false,"tag":["vue","css"],"valine":true,"valineId":"/blog/vue/VueCliSassLoader.html"},"title":"vue-cli中使用sass-loader的坑"},"headers":[],"relativePath":"views/blog/vue/VueCliSassLoader.md"}'),p={name:"views/blog/vue/VueCliSassLoader.md"},o=l(`<h4 id="vue-cli3-中引入sass全局变量的方法" tabindex="-1">Vue-cli3 中引入sass全局变量的方法 <a class="header-anchor" href="#vue-cli3-中引入sass全局变量的方法" aria-label="Permalink to &quot;Vue-cli3 中引入sass全局变量的方法&quot;">​</a></h4><p>Vue-cli官网上的说明</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// vue.config.js</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">css</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">loaderOptions</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// 给 sass-loader 传递选项</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">sass</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// @/ 是 src/ 的别名</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// 所以这里假设你有 \`src/variables.sass\` 这个文件</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// 注意：在 sass-loader v8 中，这个选项名是 &quot;prependData&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">additionalData</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">@import &quot;~@/variables.sass&quot;</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// 默认情况下 \`sass\` 选项会同时对 \`sass\` 和 \`scss\` 语法同时生效</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// 因为 \`scss\` 语法在内部也是由 sass-loader 处理的</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// 但是在配置 \`prependData\` 选项的时候</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// \`scss\` 语法会要求语句结尾必须有分号，\`sass\` 则要求必须没有分号</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// 在这种情况下，我们可以使用 \`scss\` 选项，对 \`scss\` 语法进行单独配置</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">scss</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">additionalData</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">@import &quot;~@/variables.scss&quot;;</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// 给 less-loader 传递 Less.js 相关选项</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">less</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// http://lesscss.org/usage/#less-options-strict-units \`Global Variables\`</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// \`primary\` is global variables fields name</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">globalVars</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">primary</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#fff</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>但是根据sass-loader的版本不同，对应的键名也是不同的</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">sass</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">loader v8</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">，这个选项名是 </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">data</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">sass</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">loader v8 中，这个选项名是 </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">prependData</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">sass</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">loader v10</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">，这个选项名是 </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">additionalData</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div>`,5),e=[o];function t(c,r,D,y,i,F){return n(),a("div",null,e)}const d=s(p,[["render",t]]);export{A as __pageData,d as default};
