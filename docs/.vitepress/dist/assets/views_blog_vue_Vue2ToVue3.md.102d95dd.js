import{_ as n,c as r,C as e,a as t,V as o,o as l}from"./chunks/framework.79590ae5.js";const Et=JSON.parse('{"title":"阿里妈妈又做了新工具，帮你把 Vue2 代码改成 Vue3 的","description":"","frontmatter":{"date":"2020/07/14 10:02:59","config":{"top":false,"dir":false,"tag":["vue","js","info"],"valine":true,"valineId":"/blog/vue/Vue2ToVue3.html"},"title":"阿里妈妈又做了新工具，帮你把 Vue2 代码改成 Vue3 的"},"headers":[],"relativePath":"views/blog/vue/Vue2ToVue3.md"}'),i={name:"views/blog/vue/Vue2ToVue3.md"},s=o('<h6 id="原文-掘金" tabindex="-1">原文 <a href="https://juejin.cn/post/6977259197566517284" target="_blank" rel="noreferrer">掘金</a> <a class="header-anchor" href="#原文-掘金" aria-label="Permalink to &quot;原文 [掘金](https://juejin.cn/post/6977259197566517284)&quot;">​</a></h6><img src="https://cdn.chenyingshuang.cn/blog/Vue2ToVue3/1.jpg" class="lazy article-hero" style=""><h1 data-v-235a9386="" class="article-title"> 阿里妈妈又做了新工具，帮你把 Vue2 代码改成 Vue3 的 </h1><p>Vue3 已经出来有一段时间了，很多朋友早已熟读了文档，写了好几个 Demo，馋 Composition API 等新特性已久了。无奈，在实际工作中，大部分朋友还是不得不守着成千上万行的 Vue2 老项目过日子，做一次框架升级就像给老房子装修——念头总是充沛，决心总是匮乏。</p>',4),a={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Farray-refs.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/array-refs.html",ref:"nofollow noopener noreferrer"},u=e("p",null,[e("img",{src:"https://cdn.chenyingshuang.cn/blog/Vue2ToVue3/2.jpg",alt:"image.png",loading:"lazy",class:"medium-zoom-image"}),t("还有一些就改起来有点麻烦，比如自定义指令生命周期的更名，和传入参数的一些细微变化：")],-1),h=e("p",null,[e("img",{src:"https://cdn.chenyingshuang.cn/blog/Vue2ToVue3/3.jpg",alt:"image.png",loading:"lazy",class:"medium-zoom-image"})],-1),g={href:"https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fthx%2Fgogocode",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://github.com/thx/gogocode",ref:"nofollow noopener noreferrer"},d=e("p",null,[t("我们之前的文章"),e("a",{href:"https://juejin.cn/post/6938601548192677918",target:"_blank",title:"https://juejin.cn/post/6938601548192677918"},"《阿里妈妈出的新工具，给批量修改项目代码减轻了痛苦》"),t("介绍过它，作为一个更简单的 AST处理工具，能大大减轻转换逻辑的书写难度，简直就是为了这事儿量身打造的！")],-1),c={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Farray-refs.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/array-refs.html",ref:"nofollow noopener noreferrer"},p={href:"https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fthx%2Fgogocode",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://github.com/thx/gogocode",ref:"nofollow noopener noreferrer"},_=o(`<p>上面提到的两条 Vue2 到 Vue3 的差异对比中，右侧 Vue3 的代码就是通过这个工具根据左侧 Vue2 代码原片直出的，效果还不错吧 ^_^，我们来一起试一下！</p><h2 data-id="heading-0">尝试一下</h2><p>全局安装 gogocode-cli</p><pre><code class="hljs language-bash copyable" lang="bash">npm install gogocode-cli -g
<span class="copy-code-btn">复制代码</span></code></pre><p>在终端（terminal）中跳转到需要升级的 Vue 项目路径。如果需要升级 src 路径下的 Vue 代码，执行如下命令</p><pre><code class="hljs language-bash copyable" lang="bash">gogocode -s ./src -t gogocode-plugin-vue -o ./src-out
<span class="copy-code-btn">复制代码</span></code></pre><p>转换操作执行完毕后新的 Vue3 代码会被写入到 src-out 目录中</p>`,7),f={href:"https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvuejs%2Fvue-hackernews-2.0",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://github.com/vuejs/vue-hackernews-2.0",ref:"nofollow noopener noreferrer"},m={href:"https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fthx%2Fgogocode%2Fcommit%2F6506a0e693aff1896da6c8863fa7e7c72d89610f%3Fbranch%3D6506a0e693aff1896da6c8863fa7e7c72d89610f%26diff%3Dsplit",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://github.com/thx/gogocode/commit/6506a0e693aff1896da6c8863fa7e7c72d89610f?branch=6506a0e693aff1896da6c8863fa7e7c72d89610f&diff=split",ref:"nofollow noopener noreferrer"},F=e("p",null,[e("img",{src:"https://cdn.chenyingshuang.cn/blog/Vue2ToVue3/4.jpg",alt:"image.png",loading:"lazy",class:"medium-zoom-image"})],-1),v=e("p",null,[e("img",{src:"https://cdn.chenyingshuang.cn/blog/Vue2ToVue3/5.jpg",alt:"image.png",loading:"lazy",class:"medium-zoom-image"})],-1),j={href:"https://link.juejin.cn?target=https%3A%2F%2Fgogocode.io%2Fzh%2Fdocs%2Fspecification%2Fvue2-to-vue3",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://gogocode.io/zh/docs/specification/vue2-to-vue3",ref:"nofollow noopener noreferrer"},k=e("h2",{"data-id":"heading-1"},"实现比预想的要简单很多",-1),b={href:"https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fthx%2Fgogocode",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://github.com/thx/gogocode",ref:"nofollow noopener noreferrer"},w=o(`<p>一些简单的规则，比如前面介绍的异步组件转换直接进行类似字符串的替换即可，由于是基于 AST 的，所以无需关心代码格式，工作量是很小的：</p><pre><code class="hljs language-typescript copyable" lang="typescript">script
  .replace(<span class="hljs-string">&#39;() =&gt; import($_$)&#39;</span>, <span class="hljs-string">&#39;Vue.defineAsyncComponent(() =&gt; import($_$))&#39;</span>)
  .replace(
    <span class="hljs-string">\`
      () =&gt; ({
        component: import($_$1),
        $$$
      })\`</span>,
    <span class="hljs-string">\`
    Vue.defineAsyncComponent({
      loader: () =&gt; import($_$1),
      $$$
    })
      \`</span>
  );
<span class="copy-code-btn">复制代码</span></code></pre><p>这次项目也检验了 GoGoCode 对复杂情况的处理，就像前面提到的自定义指令生命周期的变化，也很轻松地做到！</p><h2 data-id="heading-2">开源了，希望能得到大家的反馈</h2><p>吃水不忘挖井人，希望这些工作能为 Vue 开源社区做些贡献，让社区尽快享受到Vue3带来的技术红利，也让Vue团队的成员能够拜托 Vue2 的历史包袱，更加聚焦于Vue3新特性的研发！项目伊始，存在的不足之处希望得到大家的反馈和帮助：</p>`,5),A={href:"https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fthx%2Fgogocode%2Fissues",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://github.com/thx/gogocode/issues",ref:"nofollow noopener noreferrer"},V=e("p",null,"钉钉群：34266233",-1),y=e("p",null,"最后：求 star 支持！",-1),T={href:"https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fthx%2Fgogocode",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://github.com/thx/gogocode",ref:"nofollow noopener noreferrer"},x={href:"https://link.juejin.cn?target=https%3A%2F%2Fgogocode.io",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://gogocode.io",ref:"nofollow noopener noreferrer"},$=e("h2",{"data-id":"heading-3"},"附录：当前转换规则覆盖",-1),P=e("thead",null,[e("tr",null,[e("th",null,"规则"),e("th",null,"转换支持"),e("th",null,"文档")])],-1),z=e("td",null,"v-for 中的 Ref 数组",-1),C=e("td",null,"✔",-1),I={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Farray-refs.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/array-refs.html",ref:"nofollow noopener noreferrer"},S=e("td",null,"异步组件",-1),G=e("td",null,"✔",-1),D={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fasync-components.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/async-components.html",ref:"nofollow noopener noreferrer"},N=e("td",null,"attribute 强制行为",-1),R=e("td",null,"✔",-1),E={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fattribute-coercion.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/attribute-coercion.html",ref:"nofollow noopener noreferrer"},B=e("td",null,"$attrs包含class&style",-1),q=e("td",null,"✔",-1),J={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fattrs-includes-class-style.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/attrs-includes-class-style.html",ref:"nofollow noopener noreferrer"},O=e("td",null,"$children",-1),W=e("td",null,"✖️",-1),H={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fchildren.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/children.html",ref:"nofollow noopener noreferrer"},K=e("td",null,"自定义指令",-1),L=e("td",null,"✔",-1),M={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fcustom-directives.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/custom-directives.html",ref:"nofollow noopener noreferrer"},Q=e("td",null,"自定义元素交互",-1),U=e("td",null,"无需转换",-1),X={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fcustom-elements-interop.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/custom-elements-interop.html",ref:"nofollow noopener noreferrer"},Y=e("td",null,"Data 选项",-1),Z=e("td",null,"✔",-1),ee={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fdata-option.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/data-option.html",ref:"nofollow noopener noreferrer"},te=e("td",null,"emits选项",-1),oe=e("td",null,"✔",-1),ne={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Femits-option.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/emits-option.html",ref:"nofollow noopener noreferrer"},re=e("td",null,"事件 API",-1),le=e("td",null,"✔",-1),ie={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fevents-api.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/events-api.html",ref:"nofollow noopener noreferrer"},se=e("td",null,"过滤器",-1),ae=e("td",null,"✔",-1),ue={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Ffilters.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/filters.html",ref:"nofollow noopener noreferrer"},he=e("td",null,"片段",-1),ge=e("td",null,"✔",-1),de={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Ffragments.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/fragments.html",ref:"nofollow noopener noreferrer"},ce=e("td",null,"函数式组件",-1),pe=e("td",null,"✔",-1),_e={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Ffunctional-components.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/functional-components.html",ref:"nofollow noopener noreferrer"},fe=e("td",null,"全局 API",-1),me=e("td",null,"✔",-1),Fe={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fglobal-api.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/global-api.html",ref:"nofollow noopener noreferrer"},ve=e("td",null,"全局 API Treeshaking",-1),je=e("td",null,"✔",-1),ke={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fglobal-api-treeshaking.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/global-api-treeshaking.html",ref:"nofollow noopener noreferrer"},be=e("td",null,"内联模板 Attribute",-1),we=e("td",null,"✖️",-1),Ae={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Finline-template-attribute.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/inline-template-attribute.html",ref:"nofollow noopener noreferrer"},Ve=e("td",null,"keyattribute",-1),ye=e("td",null,"✔",-1),Te={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fkey-attribute.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/key-attribute.html",ref:"nofollow noopener noreferrer"},xe=e("td",null,"按键修饰符",-1),$e=e("td",null,"✔",-1),Pe={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fkeycode-modifiers.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/keycode-modifiers.html",ref:"nofollow noopener noreferrer"},ze=e("td",null,"移除$listeners",-1),Ce=e("td",null,"✔",-1),Ie={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Flisteners-removed.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/listeners-removed.html",ref:"nofollow noopener noreferrer"},Se=e("td",null,"挂载API变化",-1),Ge=e("td",null,"✔",-1),De={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fmount-changes.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/mount-changes.html",ref:"nofollow noopener noreferrer"},Ne=e("td",null,"propsData",-1),Re=e("td",null,"开发中",-1),Ee={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fprops-data.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/props-data.html",ref:"nofollow noopener noreferrer"},Be=e("td",null,"在 prop 的默认函数中访问this",-1),qe=e("td",null,"无需转换",-1),Je={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fprops-default-this.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/props-default-this.html",ref:"nofollow noopener noreferrer"},Oe=e("td",null,"渲染函数 API",-1),We=e("td",null,"✔",-1),He={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Frender-function-api.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/render-function-api.html",ref:"nofollow noopener noreferrer"},Ke=e("td",null,"插槽统一",-1),Le=e("td",null,"✔",-1),Me={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fslots-unification.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/slots-unification.html",ref:"nofollow noopener noreferrer"},Qe=e("td",null,"Suspense",-1),Ue=e("td",null,"无需转换",-1),Xe={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fsuspense.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/suspense.html",ref:"nofollow noopener noreferrer"},Ye=e("td",null,"过渡的 class 名更改",-1),Ze=e("td",null,"✔",-1),et={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Ftransition.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/transition.html",ref:"nofollow noopener noreferrer"},tt=e("td",null,"Transition 作为 Root",-1),ot=e("td",null,"开发中",-1),nt={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Ftransition-as-root.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/transition-as-root.html",ref:"nofollow noopener noreferrer"},rt=e("td",null,"Transition Group 根元素",-1),lt=e("td",null,"✔",-1),it={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Ftransition-group.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/transition-group.html",ref:"nofollow noopener noreferrer"},st=e("td",null,"移除v-on.native修饰符",-1),at=e("td",null,"✔",-1),ut={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fv-on-native-modifier-removed.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/v-on-native-modifier-removed.html",ref:"nofollow noopener noreferrer"},ht=e("td",null,"v-model",-1),gt=e("td",null,"✔",-1),dt={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fv-model.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/v-model.html",ref:"nofollow noopener noreferrer"},ct=e("td",null,"v-if 与 v-for 的优先级对比",-1),pt=e("td",null,"✔",-1),_t={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fv-if-v-for.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/v-if-v-for.html",ref:"nofollow noopener noreferrer"},ft=e("td",null,"v-bind 合并行为",-1),mt=e("td",null,"✔",-1),Ft={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fv-bind.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/v-bind.html",ref:"nofollow noopener noreferrer"},vt=e("td",null,"VNode 生命周期事件",-1),jt=e("td",null,"开发中",-1),kt={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fvnode-lifecycle-events.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/vnode-lifecycle-events.html",ref:"nofollow noopener noreferrer"},bt=e("td",null,"Watch on Arrays",-1),wt=e("td",null,"✔",-1),At={href:"https://link.juejin.cn?target=https%3A%2F%2Fv3.cn.vuejs.org%2Fguide%2Fmigration%2Fwatch.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://v3.cn.vuejs.org/guide/migration/watch.html",ref:"nofollow noopener noreferrer"},Vt=e("td",null,"vuex",-1),yt=e("td",null,"✔",-1),Tt={href:"https://link.juejin.cn?target=https%3A%2F%2Fnext.vuex.vuejs.org%2Fzh%2Fguide%2Fmigrating-to-4-0-from-3-x.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://next.vuex.vuejs.org/zh/guide/migrating-to-4-0-from-3-x.html",ref:"nofollow noopener noreferrer"},xt=e("td",null,"vue-router",-1),$t=e("td",null,"✔",-1),Pt={href:"https://link.juejin.cn?target=https%3A%2F%2Fnext.router.vuejs.org%2Fzh%2Fguide%2Fmigration%2Findex.html",target:"_blank",rel:"nofollow noopener noreferrer",title:"https://next.router.vuejs.org/zh/guide/migration/index.html",ref:"nofollow noopener noreferrer"};function zt(Ct,It,St,Gt,Dt,Nt){return l(),r("div",null,[s,e("p",null,[t("其实 Vue 团队已经尽可能地减少了破坏性更新，还提供了一份细致的"),e("a",a,"迁移指南",512),t("，条数不少，但定睛一看，大部分都是体力活，有些很简单，比如异步组件要多包上一层：")]),u,h,e("p",null,[t("看到这种变化后，作为厌恶重复的程序员，已经开始盘算着能不能写个代码帮我们把这些规则批量给改好了，当然，写转换代码的代码要比写网页难上不少，还好我们之前已经有了一个趁手的工具： "),e("a",g,"GoGoCode",512),t("。")]),d,e("p",null,[t("于是我们梳理了"),e("a",c,"迁移指南",512),t("里提到的，附带上 vue-router \\ vuex 升级的一些 API 变化，配合 "),e("a",p,"GoGoCode",512),t(" 书写了近 30 条转换逻辑，涵盖了 Vue2 到 Vue3 代码 break change 的大部分场景，这个程序可以帮助你一键把 Vue2 的代码转换成 Vue3 的代码。")]),_,e("p",null,[t("我们拿 Vue2 的官方示例项目 "),e("a",f,"vue-hackernews-2.0",512),t(" 试了一下，发现在转换的基础上只要稍作改动再改一下构建流程就能跑起来了，一些转换的 Diff 如下：（"),e("a",m,"查看完整 Diff",512),t("）")]),F,v,e("p",null,[t("这里只是简单地介绍，完整的方案请参考："),e("a",j,"文档",512)]),k,e("p",null,[t("为了达成转换目的，"),e("a",b,"GoGoCode",512),t(" 新增支持了对 .vue 文件的解析，我们可以轻松地获取到解析好的 template 和 scirpt AST节点，并利用 GoGoCode 方便的 API 进行处理。")]),w,e("p",null,[t("issues: "),e("a",A,"github.com/thx/gogocod…",512)]),V,y,e("p",null,[t("Github："),e("a",T,"github.com/thx/gogocod…",512),t("（本项目在 packages/gogocode-plugin-vue/ 目录下）")]),e("p",null,[t("官网："),e("a",x,"gogocode.io",512)]),$,e("table",null,[P,e("tbody",null,[e("tr",null,[z,C,e("td",null,[e("a",I,"链接",512)])]),e("tr",null,[S,G,e("td",null,[e("a",D,"链接",512)])]),e("tr",null,[N,R,e("td",null,[e("a",E,"链接",512)])]),e("tr",null,[B,q,e("td",null,[e("a",J,"链接",512)])]),e("tr",null,[O,W,e("td",null,[e("a",H,"链接",512)])]),e("tr",null,[K,L,e("td",null,[e("a",M,"链接",512)])]),e("tr",null,[Q,U,e("td",null,[e("a",X,"链接",512)])]),e("tr",null,[Y,Z,e("td",null,[e("a",ee,"链接",512)])]),e("tr",null,[te,oe,e("td",null,[e("a",ne,"链接",512)])]),e("tr",null,[re,le,e("td",null,[e("a",ie,"链接",512)])]),e("tr",null,[se,ae,e("td",null,[e("a",ue,"链接",512)])]),e("tr",null,[he,ge,e("td",null,[e("a",de,"链接",512)])]),e("tr",null,[ce,pe,e("td",null,[e("a",_e,"链接",512)])]),e("tr",null,[fe,me,e("td",null,[e("a",Fe,"链接",512)])]),e("tr",null,[ve,je,e("td",null,[e("a",ke,"链接",512)])]),e("tr",null,[be,we,e("td",null,[e("a",Ae,"链接",512)])]),e("tr",null,[Ve,ye,e("td",null,[e("a",Te,"链接",512)])]),e("tr",null,[xe,$e,e("td",null,[e("a",Pe,"链接",512)])]),e("tr",null,[ze,Ce,e("td",null,[e("a",Ie,"链接",512)])]),e("tr",null,[Se,Ge,e("td",null,[e("a",De,"链接",512)])]),e("tr",null,[Ne,Re,e("td",null,[e("a",Ee,"链接",512)])]),e("tr",null,[Be,qe,e("td",null,[e("a",Je,"链接",512)])]),e("tr",null,[Oe,We,e("td",null,[e("a",He,"链接",512)])]),e("tr",null,[Ke,Le,e("td",null,[e("a",Me,"链接",512)])]),e("tr",null,[Qe,Ue,e("td",null,[e("a",Xe,"链接",512)])]),e("tr",null,[Ye,Ze,e("td",null,[e("a",et,"链接",512)])]),e("tr",null,[tt,ot,e("td",null,[e("a",nt,"链接",512)])]),e("tr",null,[rt,lt,e("td",null,[e("a",it,"链接",512)])]),e("tr",null,[st,at,e("td",null,[e("a",ut,"链接",512)])]),e("tr",null,[ht,gt,e("td",null,[e("a",dt,"链接",512)])]),e("tr",null,[ct,pt,e("td",null,[e("a",_t,"链接",512)])]),e("tr",null,[ft,mt,e("td",null,[e("a",Ft,"链接",512)])]),e("tr",null,[vt,jt,e("td",null,[e("a",kt,"链接",512)])]),e("tr",null,[bt,wt,e("td",null,[e("a",At,"链接",512)])]),e("tr",null,[Vt,yt,e("td",null,[e("a",Tt,"链接",512)])]),e("tr",null,[xt,$t,e("td",null,[e("a",Pt,"链接",512)])])])])])}const Bt=n(i,[["render",zt]]);export{Et as __pageData,Bt as default};
