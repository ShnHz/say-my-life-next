---
title: Webpack
config : {
    dir : true
}
password: true
---

### Webpack

#### 1.Webpack 是什么？作用呢？

->webpack<-其实就是一个代码编译工具，集成了很多很多功能，其中几个主要的功能就是**模块打包**、**编译兼容**、**能力扩展**

##### 模块打包

就是可以将不同模块的文件打包整合在一起，并且保证它们之间的引用正确，执行有序，并且对文件做一些混淆压缩等功能。

##### 编译兼容

就是把写的高版本代码，解析成低版本兼容的代码，从而减少工作量以及提高兼容性。同时把一些预编译文件编译为浏览器能够识别的代码格式，比如 ->scss => css<- ，->vue => html/js/css<-，->jsx => html/js<- 

##### 能力扩展

通过->webpack<-的->plugin<-机制，我们在实现模块化打包和编译兼容的基础上，可以进一步实现诸如按需加载，代码压缩等一系列功能，帮助我们进一步提高自动化工程化的程度。

#### 2.Webpack Loader和Plugin的区别？

loader就是加载器，plugin就是插件

loader：用来转换（翻译）文件，比如把ES6转换为ES5，把SASS转换为CSS，把TS转换为JS

plugin：扩展webpack的功能，比如说压缩文件，打包优化，设置一些环境变量等等

#### 3.如何优化webpack打包的速度？

+ 1.多进程构建（资源并行解析），构建过程中，我们需要使用loader对一些代码、文件、图片进行解析，那把这些解析过程做成并发就会大大提高速度。（thread-loader）
+ 2.多进程压缩，和构建一样，压缩过程也可以并发达到优化速度的目的。
+ 3.利用CDN，可以把一些大的依赖引入CDN。
+ 4.利用缓存，使用cache-loader缓存文件。

#### 4.如果有个项目，你需要考虑他的缓存机制，应该是怎么样的。js/css/html分别都需要做什么缓存？

->js<-文件比较大，可以做协商缓存；->css/html<-文件相应的比较小，可以做强缓存。

但其实也要根据项目的具体需求，具体业务去做计划。

#### 5.npm run dev 执行过程

```
npm run dev
```

->dev<- 其实是一个写在配置文件的脚本命令，这边可以修改为任何值

它所执行的代码是 vue3 ->vite<- ，vue2 ->vue-cli-service serve<-

#### 6.Webpack配置优化

+ 1.按需引入@babel/polyfill
+ 2.alias通过创建import或者require的别名
+ 3.减少打包文件
+ 4.提取公共代码
+ 5.externals排除CDN文件
+ 6.Tree Shaking，将死代码剔除
+ 7.运用缓存，cache-loader
+ 8.多进程配置，解析js、css、图片、字体等等